{% extends 'base.html' %}

{% block content %}
<form method="POST">
    <div class="row my-3">
        <label for="oldpassword" class="col-sm-2 col-form-label">Старый пароль</label>
        <div class="col-sm-10">
            <input type="password" name="oldpassword"
                class="form-control {% if 'old_password' in wrong_params or 'none_old_password' in wrong_params%} is-invalid {% endif %}"
                id="oldpassword" value="{{ request.form.oldpassword or '' }}">
            {% if 'old_password' in wrong_params %}
            <div class="invalid-feedback">
                Неверный пароль.
            </div>
            {% endif %}
            {% if 'none_old_password' in wrong_params %}
            <div class="invalid-feedback">
                Поле не может быть пустым.
            </div>
            {% endif %}
        </div>
    </div>
    <div class="row mb-3">
        <label for="newpassword" class="col-sm-2 col-form-label">Новый пароль</label>
        <div class="col-sm-10">
            <input type="password" name="newpassword"
                class="form-control {% if 'incorrect_new_password' in wrong_params or 'none_new_password' in wrong_params%} is-invalid {% endif %}"
                id="newpassword" value="{{ request.form.newpassword or '' }}">
            {% if 'incorrect_new_password' in wrong_params %}
            <div class="invalid-feedback">
                {{wrong_password}}
            </div>
            {% endif %}
            {% if 'none_new_password' in wrong_params %}
            <div class="invalid-feedback">
                Поле не может быть пустым.
            </div>
            {% endif %}
        </div>
    </div>
    <div class="row mb-3">
        <label for="repeatpassword" class="col-sm-2 col-form-label">Повторите пароль</label>
        <div class="col-sm-10">
            <input type="password" name="repeatpassword"
                class="form-control {% if 'repeat_password' in wrong_params or 'none_repeat_password' in wrong_params %} is-invalid {% endif %}"
                id="repeatpassword" value="{{ request.form.repeatpassword or '' }}">
            {% if 'repeat_password' in wrong_params %}
            <div class="invalid-feedback">
                Пароли не совпадают.
            </div>
            {% endif %}
            {% if 'none_repeat_password' in wrong_params %}
            <div class="invalid-feedback">
                Поле не может быть пустым.
            </div>
            {% endif %}
        </div>
    </div>
    <button type="submit" class="btn btn-primary">Сохранить</button>
</form>
{% endblock %}